using TeachPlanner.Shared.Domain.Common.Enums;
using TeachPlanner.Shared.Domain.Curriculum;

namespace TeachPlanner.Shared.Extensions;

public static class YearLevelExtensions
{
    public static YearLevel GetByYearLevelValue(this IEnumerable<YearLevel> yearLevels, YearLevelValue yearLevelValue) =>
        yearLevels.First(yl => yl.YearLevelValue == yearLevelValue
            || yl.GetYearLevels().Contains(yearLevelValue));

    public static List<YearLevel> FilterYearLevels(this IEnumerable<YearLevel> yearLevels, IEnumerable<YearLevelValue> yearLevelValues) =>
        yearLevels.Where(s =>
            yearLevelValues.Contains(s.YearLevelValue))
        .ToList();

    public static List<YearLevel> FilterYearLevels(this IEnumerable<YearLevel> yearLevels, YearLevelValue yearLevelValue) =>
        yearLevels.Where(s =>
            yearLevelValue == s.YearLevelValue
            || yearLevelValue == s.GetYearLevels()[0]
            || s.GetYearLevels().Length > 1 && yearLevelValue == s.GetYearLevels()[1])
        .ToList();
}
